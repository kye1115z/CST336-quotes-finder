<!DOCTYPE html>
<html lang="en">
  <head>
    <%- include("partials/head.ejs") %>
    <link href="/css/authors.css" rel="stylesheet" />
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  </head>
  <body>
    <div class="main-container">
      <%- include("partials/sidebar.ejs") %>
      <div class="authors-layout">
        <h1 class="title">Edit Quote</h1>
        <form action="/editQuote" method="POST" class="quote-form">
          <input type="hidden" name="quoteId" value="<%=quoteData[0].quoteId%>" />
      
          <div class="form-group">
            <label for="quote" class="form-label">Quote</label>
            <textarea name="quote" id="quote" class="form-input" required><%=quoteData[0].quote%></textarea>
          </div>
      
          <div class="form-group">
            <label for="author" class="form-label">Author</label>
            <select name="authorId" id="author" class="form-input" required>
              <% author_rows.forEach(author => { %>
                <option value="<%= author.authorId %>" <%= (author.authorId === quoteData[0].authorId) ? "selected" : "" %>>
                  <%= author.firstName %> <%= author.lastName %>
                </option>
              <% }) %>
            </select>
          </div>
      
          <div class="form-group">
            <label for="category" class="form-label">Category</label>
            <select name="category" id="category" class="form-input" required>
              <% categroy_rows.forEach(category => { %>
                <option value="<%= category.category %>" <%= (category.category === quoteData[0].category) ? "selected" : "" %>>
                  <%=category.category%>
                </option>
              <% }) %>
            </select>
          </div>
      
          <div class="form-group">
            <label for="likes" class="form-label">Likes</label>
            <input name="likes" id="likes" type="number" class="form-input" value="<%=quoteData[0].likes%>" required />
          </div>
      
          <button type="submit" class="submit-btn">Update Quote</button>
        </form>
      </div>
    </div>

    <script src="/js/script.js"></script>
  </body>
</html>
